<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="//cdn.bootcss.com/markdown.js/0.5.0/markdown.min.js"></script>
		<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
		<script src="//cdn.bootcss.com/highlight.js/9.7.0/highlight.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="//cdn.bootcss.com/highlight.js/9.6.0/languages/markdown.min.js"></script>
		<link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/highlight.js/9.7.0/styles/atom-one-light.min.css"/>
		<style type="text/css">
			html,body{
				height: 100%;
				padding: 0;
				margin: 0;
			}
			.mdedit{
				width: 50%;
				height: 100%;
				font-family: "微软雅黑";
			}
			
			.preview{
				position: absolute;
				top:0px;
				bottom: 0px;
				left: 50%;
				width: 50%;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<button id="btn">do</button>
		<textarea name="" rows="30" cols="100"></textarea>
		<div class="mdedit" contenteditable="plaintext-only"></div>
		<div class="preview"></div>
	</body>
	<script type="text/javascript">
//		$(document).ready(function() {
//		
//		});
//		hljs.initHighlightingOnLoad()
		var $mdedit = $('.mdedit');
		var $preview = $('.preview')
		var $textarea = $('textarea')
		$('#btn').click(function(e){				
			var some = $mdedit[0].innerText ? $mdedit[0].innerText : $mdedit[0].textContent
			html_content = markdown.toHTML( some);
			$preview.empty().append(html_content )
			$textarea.val(some);
			  $('.mdedit').each(function(i, block) {
		   		 hljs.highlightBlock(block);
		  	});
		})
		$mdedit.blur(function(e){
		
		})
		
		
	</script>
</html>
